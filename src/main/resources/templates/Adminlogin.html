<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">

<head>
    <title>LogIn Page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body style="background-color: #c9d0dd;" onload="cap()">
    <section style="height: 100vh; display: flex; justify-content: center; align-items: center;">
        <form method="POST"
            style="width: 23em; padding: 2em; border-radius: 1em; box-shadow: 0 10px 25px rgba(90,100,100,.2);">
            <h1 style="font-weight: 300; margin-bottom: 1.3em;">Log In</h1>

            <div style="position: relative; height: 3em; margin-bottom: 1.6em;">
                <input type="text"
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; font-size: 1em; border: .1em solid #dadce0; border-radius: .5em; outline: none; padding: 1em; z-index: 1; background: none;"
                    placeholder=" ">
                <label
                    style="position: absolute; left: 1em; top: 1em; padding: 0 .25em; background-color: #fff; color: #80868b; font-size: 1em; transition: .4s;">Email</label>
            </div>

            <div style="position: relative; height: 3em; margin-bottom: 1.6em;">
                <input type="password"
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; font-size: 1em; border: .1em solid #dadce0; border-radius: .5em; outline: none; padding: 1em; z-index: 1; background: none;"
                    placeholder=" ">
                <label
                    style="position: absolute; left: 1em; top: 1em; padding: 0 .25em; background-color: #fff; color: #80868b; font-size: 1em; transition: .4s;">Password</label>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <input type="text" class="form-control" readonly id="capt">
                </div>
                <div class="form-group col-md-6">
                    <input type="text" class="form-control" id="textinput" placeholder="Enter Captcha">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <h6><i class="fas fa-sync-alt" style="cursor: pointer;" onclick="cap()"></i></h6>
                </div>
                <div class="form-group col-md-6">
                    <a href="">Forgot Password?</a></p>
                </div>
            </div>

            <div th:action="@{/Adminlogin}" class="form-group">
                <button onclick="validcap()" class="btn btn-lg btn-success btn-block">Submit</button>
            </div>
        </form>
        </div>
        </div>
        </div>
        <script type="text/javascript">
            // Wait for the document to be fully loaded
            document.addEventListener("DOMContentLoaded", function() {
                // Call the cap function to generate captcha
                cap();
            });
        
            function cap() {
                var alpha = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V'
                    , 'W', 'X', 'Y', 'Z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i',
                    'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '!', '@', '#', '$', '%', '^', '&', '*', '+'];
                var a = alpha[Math.floor(Math.random() * 71)];
                var b = alpha[Math.floor(Math.random() * 71)];
                var c = alpha[Math.floor(Math.random() * 71)];
                var d = alpha[Math.floor(Math.random() * 71)];
                var e = alpha[Math.floor(Math.random() * 71)];
                var f = alpha[Math.floor(Math.random() * 71)];
        
                var final = a + b + c + d + e + f;
                document.getElementById("capt").value = final;
            }
        
            function validcap() {
                var stg1 = document.getElementById('capt').value;
                var stg2 = document.getElementById('textinput').value;
                if (stg1 != stg2) {
                // Use SweetAlert for the alert
                Swal.fire({
                    icon: 'error',
                    title: 'Please enter a valid captcha',
                    showConfirmButton: false,
                    timer: 1500
                });
                return false;
            }

            }
        </script>
    </section>
</body>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>

</html>